from flask import Flask, render_template_string, request
import RPi.GPIO as GPIO
from time import sleep
from RpiMotorLib import RpiMotorLib
import math

GPIO_pins_hori = (14, 15, 18)
#GPIO_pins_vert = ( 1,2,3)
direction = 20
step = 21


# following are variable to determine step size
gearRadius = 5

hSteps = 10 # number of steps before reaching the end
hLength = 10 #cm
hstepSize = hLength / hSteps
hAngle = hstepSize / gearRadius
hsteps = hAngle * 100 / math.pi


vSteps = 10 # number of steps before reaching the end
vLength =10 #cm
vstepSize = vLength / vSteps
vAngle = vstepSize / gearRadius
vsteps = vAngle * 100 / math.pi

#verticalMotor = RpiMotorLib.A4988Nema(direction, step, GPIO_pins_vert, "A4988")
horizontalMotor = RpiMotorLib.A4988Nema(direction, step, GPIO_pins_hori, "A4988")

#horizontalMotor.motor_go(True, "Full" , 600,0.01, False, .05)
	
def MoveMotor(rotation, motor):
	# (rotation) 1 = clockwise
	# (rotation) 0 = counter clockwise
	# (motor) = "h" or "v"
	if motor == "h":
		if rotation:
			horizontalMotor.motor_go(True, "Full" , int(hsteps), 0.01, False, .05)
		else:
			horizontalMotor.motor_go(False, "Full" , int(hsteps), 0.01, False, .05)
			"""
	elif motor == "v":
		if rotation:
			vericalMotor.motor_go(True, "Full" , vsteps, 0.01, False, .05)
		else:
			vericalMotor.motor_go(True, "Full" , vsteps, 0.01, False, .05)
	else:
		print("Youssef! please give me an h or a v")
	
	"""
		
MoveMotor(1, "h")
MoveMotor(1, "h")
MoveMotor(1, "h")
MoveMotor(1, "h")
MoveMotor(0, "h")
MoveMotor(0, "h")
MoveMotor(0, "h")
MoveMotor(0, "h")
MoveMotor(1, "h")
MoveMotor(0, "h")



		
